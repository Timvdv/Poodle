/**
 * Created by oteken on 6/11/2017.
 */
var assert = require('chai').assert;
var ImagesManagerFactory = require('../src/ImagesManager');


describe('ImagesManager', function(){
    var imagesManager = new ImagesManagerFactory();
    var playerId = '1234';
    var gameId = '5678';
    var rawImage = 'data:image/png;base64,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';
    it('Getting name of image', function(){
        var nameExpected = 'playerId' + playerId +'gameId' + gameId +'';
        var nameResult = imagesManager.getImageName(playerId, gameId, rawImage);
        assert.equal(nameResult, nameExpected);
    });
    it('Allowed to store image', function(){
        var allowedExpected = true;
        var allowedResult = imagesManager.allowedToStore(playerId, gameId, rawImage);
        assert.equal(allowedResult, allowedExpected);
    });
});